require=function t(e,i,c){function n(o,a){if(!i[o]){if(!e[o]){var r="function"==typeof require&&require;if(!a&&r)return r(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){var i=e[o][1][t];return n(i||t)},d,d.exports,t,e,i,c)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<c.length;o++)n(c[o]);return n}({Ball:[function(t,e,i){"use strict";cc._RF.push(e,"fc7e3WRwtBLgpjMMCE6948d","Ball");cc.Class({extends:cc.Component,properties:{v:null,prePos:null,gameScene:null,isBounced:!1},init:function(t,e){this.gameScene=t,this.v=e},start:function(){this.prePos=this.node.getPosition()},update:function(t){},step:function(t){var e=this.node.getPosition();this.prePos=cc.p(e.x,e.y),e.x<25&&(this.v.x=Math.abs(this.v.x)),e.x>1055&&(this.v.x=-Math.abs(this.v.x)),e.y>1735&&(this.v.y=-Math.abs(this.v.y)),this.node.setPosition(e.x+this.v.x*t,e.y+this.v.y*t);var i=this.gameScene.barNode.getBoundingBox();cc.rect(i.x-25,i.y-25,i.width+50,i.height+50).contains(this.node.getPosition())&&(this.v.y=Math.abs(this.v.y))}}),cc._RF.pop()},{}],BaseBrick:[function(t,e,i){"use strict";cc._RF.push(e,"8162eD/h25MYok5LnGcYbdQ","BaseBrick"),cc.Class({extends:cc.Component,properties:{baseBrick:null,gameScene:null,x:0,y:0},bind:function(t,e,i){this.gameScene=t,this.x=e,this.y=i},start:function(){},hit:function(){},clash:function(){this.gameScene.removeBrick(this.x,this.y),this.node.removeFromParent()}}),cc._RF.pop()},{}],BaseItem:[function(t,e,i){"use strict";cc._RF.push(e,"f6a73fvNopMdLXC5oEz1WLT","BaseItem"),cc.Class({extends:cc.Component,properties:{gameScene:null,v:cc.p(),isPicked:!1},bind:function(t){this.gameScene=t},start:function(){this.v.x=0,this.v.y=100},update:function(t){if(!this.isPicked){var e=this.node.getPosition();if(this.node.setPosition(e.x+this.v.x*t,e.y+this.v.y*t),this.v.y-=500*t,this.node.getPositionY()<-500)this.node.removeFromParent();else{var i=this.gameScene.barNode.getBoundingBox(),c=this.node.getBoundingBox();i.intersects(c)&&(this.picked(),this.node.removeFromParent(),this.isPicked=!0)}}},picked:function(){}}),cc._RF.pop()},{}],BgGradient:[function(t,e,i){"use strict";cc._RF.push(e,"48d7dMXFWpAbLJ+3C022uXa","BgGradient");var c=["#37a3ff","#84daff","#30cfd0","#330867","#a8edea","#fed6e3","#f5f7fa","#c3cfe2","#fddb92","#d1fdff","#f6f3ff","#cd9cf2","#feada6","#f5efef","#9795f0","#fbc8d4","#13547a","#80d0c7","#92fe9d","#00c9ff","#ed6ea0","#ec8c69"];cc.Class({extends:cc.Component,properties:{bgNode:cc.Node},start:function(){var t=Math.floor(Math.random()*c.length/2);this.node.setColor(this.parseColor(c[t])),this.bgNode.setColor(this.parseColor(c[t+1]))},parseColor:function(t){var e=t.substring(1,3),i=parseInt(e,16),c=t.substring(3,5),n=parseInt(c,16),s=t.substring(5,7),o=parseInt(s,16);return cc.color(i,n,o)}}),cc._RF.pop()},{}],BombBrick:[function(t,e,i){"use strict";cc._RF.push(e,"fa2aeRsytNGnY5pNZakm8kF","BombBrick");var c=t("BaseBrick");cc.Class({extends:c,properties:{isTrigger:!1},start:function(){},hit:function(){this.clash()},bomb:function(){for(var t=this.x-1;t<=this.x+1;t++)for(var e=this.y-1;e<=this.y+1;e++)this.gameScene.clashBrick(t,e);this.gameScene.removeBrick(this.x,this.y),this.node.removeFromParent()},clash:function(){this.isTrigger||(this.isTrigger=!0,this.node.runAction(new cc.Sequence(new cc.DelayTime(.4),new cc.CallFunc(this.bomb,this))))}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],BoxBrick:[function(t,e,i){"use strict";cc._RF.push(e,"66398W7Y51OP4QCdvH24/RC","BoxBrick");var c=t("BaseBrick");cc.Class({extends:c,properties:{isTrigger:!1},start:function(){},hit:function(){this.clash();var t=this.node.getPosition();this.gameScene.shotBall(t,cc.p(10+t.x,100+t.y)),this.gameScene.shotBall(t,cc.p(50+t.x,76+t.y)),this.gameScene.shotBall(t,cc.p(-50+t.x,76+t.y))}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],GameScene:[function(t,e,i){"use strict";function c(t,e){return t<=s.width-1&&t>=0&&e<=s.height-1&&e>=0}cc._RF.push(e,"3714cDJ9oJKyoHj3aEqU7BG","GameScene");var n=[[0,0,0,0,0,3,3,11,3,3,0,0,0,0,0,0,0,0,0,10,3,3,11,3,3,10,0,0,0,0,0,0,0,10,3,3,3,11,3,3,3,10,0,0,0,0,0,10,3,11,11,11,11,11,11,11,3,10,0,0,0,3,10,3,3,3,3,11,3,3,3,3,10,3,0,0,3,3,3,11,11,11,11,11,11,11,3,3,3,0,0,3,10,3,3,3,3,11,3,3,3,3,10,3,0,0,0,10,3,11,11,11,11,11,11,11,3,10,0,0,0,0,10,3,3,3,3,11,3,3,3,3,10,0,0,0,0,0,10,3,11,11,11,11,11,3,10,0,0,0,0,0,0,0,10,3,3,11,3,3,10,0,0,0,0,0,0,0,0,0,10,3,11,3,10,0,0,0,0,0,0,0,0,0,0,0,10,11,10,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,3,3,0,0,0,0,3,11,0,0,0,0,0,0,0,11,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,10,3,3,3,10,3,3,3,0,0,10,0,3,11,11,11,11,11,11,11,11,11,3,0,10,3,0,3,11,11,11,11,11,11,11,11,11,3,0,3,3,3,3,11,11,10,11,11,11,10,11,11,3,3,3,0,0,3,11,11,10,11,11,11,10,11,11,3,0,0,0,0,3,11,11,11,11,11,11,11,11,11,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,3,3,0,0,0,3,3,0,0,0,0,0,0,0,0,3,3,0,0,0,3,3,0,0,0,0,0,0,0,0,10,10,0,0,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],s=cc.size(15,18),o=cc.size(72,72),a=cc.p(37,510),r=t("BaseBrick");cc.Class({extends:cc.Component,properties:{barNode:cc.Node,boardNode:cc.Node,gameLayer:cc.Node,normalBrickPrefab:cc.Prefab,ironBrickPrefab:cc.Prefab,bombBrickPrefab:cc.Prefab,boxBrickPrefab:cc.Prefab,itemBrickPrefab:cc.Prefab,ballPrefab:cc.Prefab,brickList:[],ballList:[],posDown:null,touchType:0},start:function(){for(var t=0;t<s.width;t++)this.brickList[t]=[];this.initEvent(),this.putBrick()},initEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=this.gameLayer.convertToNodeSpace(t.getLocation());this.posDown=e,this.touchType=0},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=this.gameLayer.convertToNodeSpace(t.getLocation());(1==this.touchType||cc.pDistance(e,this.posDown)>30)&&(this.touchType=1,this.barNode.setPositionX(e.x))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.gameLayer.convertToNodeSpace(t.getLocation());0==this.touchType&&this.shotBall(this.barNode.getPosition(),cc.p(this.barNode.getPosition().x+.25,this.barNode.getPosition().y+1))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.touchType=0},this)},putBrick:function(){for(var t=0;t<s.width;t++)for(var e=0;e<s.height;e++){var i,c=n[1][t+(s.height-e-1)*s.width];if(0!=c){if(c<10)(i=cc.instantiate(this.normalBrickPrefab)).getComponent("NormalBrick").setHitCount(c);else switch(c){case 10:i=cc.instantiate(this.ironBrickPrefab);break;case 11:i=cc.instantiate(this.bombBrickPrefab);break;case 12:i=cc.instantiate(this.boxBrickPrefab);break;case 13:(i=cc.instantiate(this.itemBrickPrefab)).getComponent("ItemBrick").setItemType(1);break;case 14:(i=cc.instantiate(this.itemBrickPrefab)).getComponent("ItemBrick").setItemType(2);break;case 15:(i=cc.instantiate(this.itemBrickPrefab)).getComponent("ItemBrick").setItemType(3)}this.brickList[t][e]=i.getComponent(r),i.setPosition(t*o.width+a.x,e*o.height+a.y),i.getComponent(r).bind(this,t,e),i.setScale(0),i.runAction(new cc.Sequence(new cc.DelayTime(.05*(s.height-e-1)),new cc.EaseBackOut(new cc.ScaleTo(.8,1)))),this.boardNode.addChild(i)}}},shotBall:function(t,e){var i=e.x-t.x,c=e.y-t.y,n=1600*i/Math.sqrt(i*i+c*c),s=1600*c/Math.sqrt(i*i+c*c),o=cc.p(n,s);cc.log(o);var a=cc.instantiate(this.ballPrefab);a.getComponent("Ball").init(this,o),this.ballList[this.ballList.length]=a.getComponent("Ball"),a.setPosition(t),this.gameLayer.addChild(a)},update:function(t){for(var e=0;e<this.ballList.length;e++){var i=this.ballList[e];this.ballContact(i),i.step(t)}},ballContact:function(t){for(var e=t.node.getPosition(),i=t.prePos,n=Math.floor((e.x-a.x)/o.width+.5),s=Math.floor((e.y-a.y)/o.height+.5),r=n-1;r<=n+1;r++)for(var h=s-1;h<=s+1;h++)if(c(r,h)){var d=this.brickList[r][h];if(null!=d){var p=d.node.getBoundingBox(),u=cc.rect(p.x-24,p.y-24,p.width+48,p.height+48),f=d.node.getPosition();if(u.contains(e)){var g=t.prePos.x-f.x,l=t.prePos.y-f.y;Math.abs(g)>Math.abs(l)?i.x>f.x?t.v.x=Math.abs(t.v.x):t.v.x=-Math.abs(t.v.x):i.y>f.y?t.v.y=Math.abs(t.v.y):t.v.y=-Math.abs(t.v.y),t.node.setPosition(t.prePos),d.hit()}}}},clashBrick:function(t,e){c(t,e)&&null!=this.brickList[t][e]&&this.brickList[t][e].clash()},removeBrick:function(t,e){c(t,e)&&(this.brickList[t][e]=null)}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],HeartItem:[function(t,e,i){"use strict";cc._RF.push(e,"cc5375b07xGRrzEdhApfQax","HeartItem");var c=t("BaseItem");cc.Class({extends:c,properties:{}}),cc._RF.pop()},{BaseItem:"BaseItem"}],IronBrick:[function(t,e,i){"use strict";cc._RF.push(e,"0c925TbwN9LPbeGXjGErboH","IronBrick");var c=t("BaseBrick");cc.Class({extends:c,properties:{},start:function(){},hit:function(){}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],ItemBrick:[function(t,e,i){"use strict";cc._RF.push(e,"c6b54j+eDZPP6o1K4im/F63","ItemBrick");var c=t("BaseBrick"),n=t("BaseItem");cc.Class({extends:c,properties:{isTrigger:!1,itemType:1,itemHeart:cc.Prefab,itemBig:cc.Prefab,itemLong:cc.Prefab},start:function(){},setItemType:function(t){this.itemType=t},hit:function(){this.clash();var t,e=this.node.getPosition();switch(this.itemType){case 1:t=this.itemHeart;break;case 2:t=this.itemBig;break;case 3:t=this.itemLong}var i=cc.instantiate(t);i.getComponent(n).bind(this.gameScene),i.setPosition(e),this.gameScene.gameLayer.addChild(i)}}),cc._RF.pop()},{BaseBrick:"BaseBrick",BaseItem:"BaseItem"}],NormalBrick:[function(t,e,i){"use strict";cc._RF.push(e,"1c8b8U24v9CJpSzpOT/PlRl","NormalBrick");var c=t("BaseBrick");cc.Class({extends:c,properties:{brickImg1:cc.SpriteFrame,brickImg2:cc.SpriteFrame,brickImg3:cc.SpriteFrame,txtCount:cc.Label,hitCount:2},start:function(){},setHitCount:function(t){this.hitCount=t,this.setBrickImg()},setBrickImg:function(){var t;switch(this.hitCount%3){case 1:t=this.brickImg1;break;case 2:t=this.brickImg2;break;default:t=this.brickImg3}this.node.getComponent(cc.Sprite).spriteFrame=t,this.txtCount.string=this.hitCount},hit:function(){0==--this.hitCount?this.clash():this.setBrickImg()}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],btnStage:[function(t,e,i){"use strict";cc._RF.push(e,"905baa3f79Nvqyw7EcJYPj4","btnStage"),cc.Class({extends:cc.Component,properties:{id:0,image1:cc.SpriteFrame,image2:cc.SpriteFrame,image3:cc.SpriteFrame,image4:cc.SpriteFrame,label:cc.Label,isHidden:!1,layerStage:null},init:function(t,e){this.id=t,this.layerStage=e},start:function(){this.node.setScale(0),this.node.runAction(new cc.Sequence(new cc.DelayTime(1+.05*this.id),new cc.EaseBackOut(new cc.ScaleTo(.8,1))));var t;this.id<=4?t=this.image1:this.id<=8?t=this.image2:this.id<=12?t=this.image3:this.id<=16&&(t=this.image4),this.setSpriteFrame(t),this.label.string=this.id,this.node.on(cc.Node.EventType.TOUCH_START,function(t){return!this.layerStage.isHidden&&(this.node.setScale(.9),this.node.setOpacity(172),!0)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.layerStage.isHidden||(this.node.setScale(.9),this.node.setOpacity(172))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.layerStage.isHidden||(this.node.setScale(1),this.node.setOpacity(255),this.layerStage.enterStage())},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.layerStage.isHidden||(this.node.setScale(1),this.node.setOpacity(255))},this)},setSpriteFrame:function(t){this.node.getComponent(cc.Sprite).spriteFrame=t,this.node.width=t.getRect().width,this.node.height=t.getRect().height}}),cc._RF.pop()},{}],btnStart:[function(t,e,i){"use strict";cc._RF.push(e,"ee01d5KNPpO75zUumIDVPYC","btnStart"),cc.Class({extends:cc.Component,properties:{star1:cc.Node,star2:cc.Node,star3:cc.Node,star4:cc.Node,star5:cc.Node,star6:cc.Node,star7:cc.Node,logo:cc.Node,logoBg:cc.Node,stageLayer:cc.Node,isHidden:!1},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){return!this.isHidden&&(this.node.setScale(.9),this.node.setOpacity(172),!0)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.isHidden||(this.node.setScale(.9),this.node.setOpacity(172))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.isHidden||(this.node.setScale(1),this.node.setOpacity(255),this.gameStart())},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.isHidden||(this.node.setScale(1),this.node.setOpacity(255))},this)},gameStart:function(){this.star1.getComponent("nodeStar").gone(),this.star2.getComponent("nodeStar").gone(),this.star3.getComponent("nodeStar").gone(),this.star4.getComponent("nodeStar").gone(),this.star5.getComponent("nodeStar").gone(),this.star6.getComponent("nodeStar").gone(),this.star7.getComponent("nodeStar").gone(),this.logo.stopAllActions(),this.logo.runAction(new cc.EaseSineInOut(new cc.MoveTo(1,cc.p(0,700)))),this.logo.runAction(new cc.EaseSineInOut(new cc.ScaleTo(1,.8))),this.logoBg.stopAllActions(),this.logoBg.runAction(new cc.EaseSineInOut(new cc.MoveTo(1,cc.p(0,700)))),this.logoBg.runAction(new cc.EaseSineInOut(new cc.ScaleTo(1,.8))),this.node.runAction(new cc.EaseSineInOut(new cc.FadeTo(1,0))),this.stageLayer.getComponent("layerStage").showStages(),this.isHidden=!0}}),cc._RF.pop()},{}],layerStage:[function(t,e,i){"use strict";cc._RF.push(e,"1f77dBu9PxPioBuMOWRNhRv","layerStage"),cc.Class({extends:cc.Component,properties:{btnStagePrefab:cc.Prefab,isHidden:!1},start:function(){cc.view.enableAntiAlias(!1)},showStages:function(){for(var t=1;t<=16;t++){var e=cc.instantiate(this.btnStagePrefab);e.setPosition((t-1)%4*260-380,260-300*Math.floor((t-1)/4)),e.getComponent("btnStage").init(t,this),this.node.addChild(e)}},enterStage:function(){this.isHidden=!0,cc.director.loadScene("gameScene")}}),cc._RF.pop()},{}],nodeStar:[function(t,e,i){"use strict";cc._RF.push(e,"263c1M+KAJGppsqqK1qkCsF","nodeStar"),cc.Class({extends:cc.Component,properties:{delay:0,offset:0,goneX:0,goneY:0},start:function(){this.node.setOpacity(0),this.node.setPositionY(this.node.getPositionY()-50),this.node.runAction(new cc.Sequence(new cc.DelayTime(this.delay),new cc.Spawn(new cc.MoveBy(.5,cc.p(0,50)),new cc.FadeTo(.5,255)))),this.node.runAction(new cc.RepeatForever(new cc.Sequence(new cc.EaseSineInOut(new cc.MoveBy(6,cc.p(0,this.offset/2))),new cc.EaseSineInOut(new cc.MoveBy(10,cc.p(0,-1*this.offset))),new cc.EaseSineInOut(new cc.MoveBy(6,cc.p(0,this.offset/2))))))},gone:function(){this.node.runAction(new cc.EaseSineInOut(new cc.MoveBy(1,cc.p(this.goneX,this.goneY))))}}),cc._RF.pop()},{}]},{},["Ball","BgGradient","BaseBrick","BombBrick","BoxBrick","IronBrick","ItemBrick","NormalBrick","GameScene","BaseItem","HeartItem","btnStage","btnStart","layerStage","nodeStar"]);