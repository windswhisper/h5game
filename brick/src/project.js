require=function t(e,i,n){function c(s,a){if(!i[s]){if(!e[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){var i=e[s][1][t];return c(i||t)},d,d.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)c(n[s]);return c}({Ball:[function(t,e,i){"use strict";cc._RF.push(e,"fc7e3WRwtBLgpjMMCE6948d","Ball");cc.Class({extends:cc.Component,properties:{v:null,prePos:null,gameScene:null,isBounced:!1},init:function(t,e){this.gameScene=t,this.v=e},start:function(){this.prePos=cc.p(0,0)},update:function(t){this.step(t);var e=this.gameScene.barNode.getBoundingBox();cc.rect(e.x-25,e.y-25,e.width+50,e.height+50).contains(this.node.getPosition())&&(this.v.y=Math.abs(this.v.y))},step:function(t){var e=this.node.getPosition();this.prePos=cc.p(e.x,e.y),e.x<25&&(this.v.x=Math.abs(this.v.x)),e.x>1055&&(this.v.x=-Math.abs(this.v.x)),e.y>1735&&(this.v.y=-Math.abs(this.v.y)),this.node.setPosition(e.x+this.v.x*t,e.y+this.v.y*t)}}),cc._RF.pop()},{}],BaseBrick:[function(t,e,i){"use strict";cc._RF.push(e,"8162eD/h25MYok5LnGcYbdQ","BaseBrick"),cc.Class({extends:cc.Component,properties:{baseBrick:null,gameScene:null,x:0,y:0},bind:function(t,e,i){this.gameScene=t,this.x=e,this.y=i},start:function(){},hit:function(){},clash:function(){this.gameScene.removeBrick(this.x,this.y),this.node.removeFromParent()}}),cc._RF.pop()},{}],BgGradient:[function(t,e,i){"use strict";cc._RF.push(e,"48d7dMXFWpAbLJ+3C022uXa","BgGradient");var n=["#37a3ff","#84daff","#30cfd0","#330867","#a8edea","#fed6e3","#f5f7fa","#c3cfe2","#fddb92","#d1fdff","#f6f3ff","#cd9cf2","#fff1eb","#ace0f9","#feada6","#f5efef","#9795f0","#fbc8d4","#13547a","#80d0c7","#92fe9d","#00c9ff","#ed6ea0","#ec8c69"];cc.Class({extends:cc.Component,properties:{bgNode:cc.Node},start:function(){var t=Math.floor(Math.random()*n.length/2);this.node.setColor(this.parseColor(n[t])),this.bgNode.setColor(this.parseColor(n[t+1]))},parseColor:function(t){var e=t.substring(1,3),i=parseInt(e,16),n=t.substring(3,5),c=parseInt(n,16),o=t.substring(5,7),s=parseInt(o,16);return cc.color(i,c,s)}}),cc._RF.pop()},{}],BoxBrick:[function(t,e,i){"use strict";cc._RF.push(e,"66398W7Y51OP4QCdvH24/RC","BoxBrick"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],GameScene:[function(t,e,i){"use strict";function n(t,e){return t<=c.width-1&&t>=0&&e<=c.height-1&&e>=0}cc._RF.push(e,"3714cDJ9oJKyoHj3aEqU7BG","GameScene");var c=cc.size(15,18),o=cc.size(72,72),s=cc.p(37,510),a=t("BaseBrick");cc.Class({extends:cc.Component,properties:{barNode:cc.Node,boardNode:cc.Node,gameLayer:cc.Node,normalBrickPrefab:cc.Prefab,ballPrefab:cc.Prefab,brickList:[],ballList:[],posDown:null,touchType:0},start:function(){for(var t=0;t<c.width;t++)this.brickList[t]=[];this.initEvent(),this.putBrick()},initEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=this.gameLayer.convertToNodeSpace(t.getLocation());this.posDown=e,this.touchType=0},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=this.gameLayer.convertToNodeSpace(t.getLocation());(1==this.touchType||cc.pDistance(e,this.posDown)>30)&&(this.touchType=1,this.barNode.setPositionX(e.x))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.gameLayer.convertToNodeSpace(t.getLocation());0==this.touchType&&this.shotBall(e)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.touchType=0},this)},putBrick:function(){for(var t=0;t<c.width;t++)for(var e=0;e<c.height;e++){var i=cc.instantiate(this.normalBrickPrefab);this.brickList[t][e]=i.getComponent(a),i.setPosition(t*o.width+s.x,e*o.height+s.y),i.getComponent(a).bind(this,t,e),i.getComponent("NormalBrick").setHitCount(99),i.setScale(0),i.runAction(new cc.Sequence(new cc.DelayTime(.05*(c.height-e-1)),new cc.EaseBackOut(new cc.ScaleTo(.8,1)))),this.boardNode.addChild(i)}},shotBall:function(t){var e=t.x-this.barNode.getPosition().x,i=t.y-this.barNode.getPosition().y;e=1600*e/Math.sqrt(e*e+i*i),i=1600*i/Math.sqrt(e*e+i*i);var n=cc.p(e,i),c=cc.instantiate(this.ballPrefab);c.getComponent("Ball").init(this,n),this.ballList[this.ballList.length]=c.getComponent("Ball"),c.setPosition(this.barNode.getPosition()),this.gameLayer.addChild(c)},update:function(t){for(var e=0;e<this.ballList.length;e++){var i=this.ballList[e];this.ballContact(i)}},ballContact:function(t){for(var e=t.node.getPosition(),i=Math.floor((e.x-s.x)/o.width+.5),c=Math.floor((e.y-s.y)/o.height+.5),a=i-1;a<=i+1;a++)for(var r=c-1;r<=c+1;r++)if(n(a,r)){var h=this.brickList[a][r];if(null!=h){var d=h.node.getBoundingBox();if(cc.rect(d.x-24,d.y-24,d.width+48,d.height+48).contains(e)){var p=h.node.getPosition().x-e.x,u=h.node.getPosition().y-e.y;return Math.abs(Math.abs(p)-Math.abs(u))<24?(t.v.x=-t.v.x,t.v.y=-t.v.y,t.node.setPosition(t.prePos)):Math.abs(p)>Math.abs(u)?(t.v.x=-t.v.x,t.node.setPosition(t.prePos)):(t.v.y=-t.v.y,t.node.setPosition(t.prePos)),void h.hit()}}}},removeBrick:function(t,e){this.brickList[t][e]=null}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],IronBrick:[function(t,e,i){"use strict";cc._RF.push(e,"0c925TbwN9LPbeGXjGErboH","IronBrick"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],ItemBrick:[function(t,e,i){"use strict";cc._RF.push(e,"c6b54j+eDZPP6o1K4im/F63","ItemBrick"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],NormalBrick:[function(t,e,i){"use strict";cc._RF.push(e,"1c8b8U24v9CJpSzpOT/PlRl","NormalBrick");var n=t("BaseBrick");cc.Class({extends:n,properties:{brickImg1:cc.SpriteFrame,brickImg2:cc.SpriteFrame,brickImg3:cc.SpriteFrame,txtCount:cc.Label,hitCount:2},start:function(){},setHitCount:function(t){this.hitCount=t,this.setBrickImg()},setBrickImg:function(){var t;switch(this.hitCount%3){case 1:t=this.brickImg1;break;case 2:t=this.brickImg2;break;default:t=this.brickImg3}this.node.getComponent(cc.Sprite).spriteFrame=t,this.txtCount.string=this.hitCount},hit:function(){0==--this.hitCount?this.clash():this.setBrickImg()}}),cc._RF.pop()},{BaseBrick:"BaseBrick"}],btnStage:[function(t,e,i){"use strict";cc._RF.push(e,"905baa3f79Nvqyw7EcJYPj4","btnStage"),cc.Class({extends:cc.Component,properties:{id:0,image1:cc.SpriteFrame,image2:cc.SpriteFrame,image3:cc.SpriteFrame,image4:cc.SpriteFrame,label:cc.Label,isHidden:!1,layerStage:null},init:function(t,e){this.id=t,this.layerStage=e},start:function(){this.node.setScale(0),this.node.runAction(new cc.Sequence(new cc.DelayTime(1+.05*this.id),new cc.EaseBackOut(new cc.ScaleTo(.8,1))));var t;this.id<=4?t=this.image1:this.id<=8?t=this.image2:this.id<=12?t=this.image3:this.id<=16&&(t=this.image4),this.setSpriteFrame(t),this.label.string=this.id,this.node.on(cc.Node.EventType.TOUCH_START,function(t){return!this.layerStage.isHidden&&(this.node.setScale(.9),this.node.setOpacity(172),!0)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.layerStage.isHidden||(this.node.setScale(.9),this.node.setOpacity(172))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.layerStage.isHidden||(this.node.setScale(1),this.node.setOpacity(255),this.layerStage.enterStage())},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.layerStage.isHidden||(this.node.setScale(1),this.node.setOpacity(255))},this)},setSpriteFrame:function(t){this.node.getComponent(cc.Sprite).spriteFrame=t,this.node.width=t.getRect().width,this.node.height=t.getRect().height}}),cc._RF.pop()},{}],btnStart:[function(t,e,i){"use strict";cc._RF.push(e,"ee01d5KNPpO75zUumIDVPYC","btnStart"),cc.Class({extends:cc.Component,properties:{star1:cc.Node,star2:cc.Node,star3:cc.Node,star4:cc.Node,star5:cc.Node,star6:cc.Node,star7:cc.Node,logo:cc.Node,logoBg:cc.Node,stageLayer:cc.Node,isHidden:!1},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){return!this.isHidden&&(this.node.setScale(.9),this.node.setOpacity(172),!0)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.isHidden||(this.node.setScale(.9),this.node.setOpacity(172))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.isHidden||(this.node.setScale(1),this.node.setOpacity(255),this.gameStart())},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.isHidden||(this.node.setScale(1),this.node.setOpacity(255))},this)},gameStart:function(){this.star1.getComponent("nodeStar").gone(),this.star2.getComponent("nodeStar").gone(),this.star3.getComponent("nodeStar").gone(),this.star4.getComponent("nodeStar").gone(),this.star5.getComponent("nodeStar").gone(),this.star6.getComponent("nodeStar").gone(),this.star7.getComponent("nodeStar").gone(),this.logo.stopAllActions(),this.logo.runAction(new cc.EaseSineInOut(new cc.MoveTo(1,cc.p(0,700)))),this.logo.runAction(new cc.EaseSineInOut(new cc.ScaleTo(1,.8))),this.logoBg.stopAllActions(),this.logoBg.runAction(new cc.EaseSineInOut(new cc.MoveTo(1,cc.p(0,700)))),this.logoBg.runAction(new cc.EaseSineInOut(new cc.ScaleTo(1,.8))),this.node.runAction(new cc.EaseSineInOut(new cc.FadeTo(1,0))),this.stageLayer.getComponent("layerStage").showStages(),this.isHidden=!0}}),cc._RF.pop()},{}],layerStage:[function(t,e,i){"use strict";cc._RF.push(e,"1f77dBu9PxPioBuMOWRNhRv","layerStage"),cc.Class({extends:cc.Component,properties:{btnStagePrefab:cc.Prefab,isHidden:!1},start:function(){cc.view.enableAntiAlias(!1)},showStages:function(){for(var t=1;t<=16;t++){var e=cc.instantiate(this.btnStagePrefab);e.setPosition((t-1)%4*260-380,260-300*Math.floor((t-1)/4)),e.getComponent("btnStage").init(t,this),this.node.addChild(e)}},enterStage:function(){this.isHidden=!0,cc.director.loadScene("gameScene")}}),cc._RF.pop()},{}],nodeStar:[function(t,e,i){"use strict";cc._RF.push(e,"263c1M+KAJGppsqqK1qkCsF","nodeStar"),cc.Class({extends:cc.Component,properties:{delay:0,offset:0,goneX:0,goneY:0},start:function(){this.node.setOpacity(0),this.node.setPositionY(this.node.getPositionY()-50),this.node.runAction(new cc.Sequence(new cc.DelayTime(this.delay),new cc.Spawn(new cc.MoveBy(.5,cc.p(0,50)),new cc.FadeTo(.5,255)))),this.node.runAction(new cc.RepeatForever(new cc.Sequence(new cc.EaseSineInOut(new cc.MoveBy(6,cc.p(0,this.offset/2))),new cc.EaseSineInOut(new cc.MoveBy(10,cc.p(0,-1*this.offset))),new cc.EaseSineInOut(new cc.MoveBy(6,cc.p(0,this.offset/2))))))},gone:function(){this.node.runAction(new cc.EaseSineInOut(new cc.MoveBy(1,cc.p(this.goneX,this.goneY))))}}),cc._RF.pop()},{}]},{},["Ball","BgGradient","BaseBrick","BoxBrick","IronBrick","ItemBrick","NormalBrick","GameScene","btnStage","btnStart","layerStage","nodeStar"]);